<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>urBANtul - Urban Untuk Bantul - Bantul Untuk Urban</title>
    <link rel="stylesheet" href="style.css">
    </head>
<body>

    <header class="main-header">
        <div class="header-top">
            <div class="logo">
                <h1>urBANtul</h1>
            </div>
            <div class="promo-banner">
                <span>Hanya Rp.1000/ml</span>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="about-us.html">About Us</a></li>
                    <li><a href="urban-perfume-point.html">Urban Perfume Point</a></li>
                </ul>
            </nav>
        </div>

        <div class="search-section">
            <input type="text" placeholder="Search : Nama Aroma, Kelas Aroma, dan Note Aroma" class="search-input">
            <button class="search-button">
                &#128269;
            </button>
        </div>
    </header>

<section class="main-categories">
        <h2>Kategori Pilihan</h2>
        <div class="category-grid">
            <a href="booster.html" class="category-block booster">BO</a>
            <a href="flash-sale.html" class="category-block flash-sale">FS</a>
            <a href="timteng-eropa.html" class="category-block timteng-eropa">TG</a>
            <a href="new-arrival.html" class="category-block new-arrival">NA</a>
            <a href="parfum-malam.html" class="category-block parfum-malam">PM</a>
            </div>
    </section>
        </div>
    </section>

    <section class="best-sellers">
        <div class="section-header">
            <h2>Best Seller Kita</h2>
            <a href="best-sellers.html" class="more-button">More</a>
        </div>
        <div class="product-grid">
            <div class="product-card">
                <div class="product-image"></div>
                <p class="product-name">Best Seller #1</p>
            </div>
            <div class="product-card">
                <div class="product-image"></div>
                <p class="product-name">Best Seller #2</p>
            </div>
            <div class="product-card">
                <div class="product-image"></div>
                <p class="product-name">Best Seller #3</p>
            </div>
            <div class="product-card">
                <div class="product-image"></div>
                <p class="product-name">Best Seller #4</p>
            </div>
            <div class="product-card">
                <div class="product-image"></div>
                <p class="product-name">Best Seller #5</p>
            </div>
            <div class="product-card">
                <div class="product-image"></div>
                <p class="product-name">Best Seller #6</p>
            </div>
            <div class="product-card">
                <div class="product-image"></div>
                <p class="product-name">Best Seller #7</p>
            </div>
            <div class="product-card">
                <div class="product-image"></div>
                <p class="product-name">Best Seller #8</p>
            <div class="product-card">
                <div class="product-image"></div>
                <p class="product-name">Best Seller #8</p>
            </div>
        </div>
    </section>

    <section class="aroma-classes">
        <div class="section-header">
            <h2>Kelas Aroma</h2>
            <a href="aroma-classes.html" class="more-button">More</a>
        </div>
        <div class="aroma-grid">
            <div class="aroma-card">
                <div class="aroma-icon"></div>
                <p class="aroma-name">Fruity</p>
            </div>
            <div class="aroma-card">
                <div class="aroma-icon"></div>
                <p class="aroma-name">Gourmand</p>
            </div>
            <div class="aroma-card">
                <div class="aroma-icon"></div>
                <p class="aroma-name">Citrus</p>
            </div>
            <div class="aroma-card">
                <div class="aroma-icon"></div>
                <p class="aroma-name">Floral</p>
            </div>
            <div class="aroma-card">
                <div class="aroma-icon"></div>
                <p class="aroma-name">Natural</p>
            </div>
            <div class="aroma-card">
                <div class="aroma-icon"></div>
                <p class="aroma-name">Spicy</p>
            </div>
            <div class="aroma-card">
                <div class="aroma-icon"></div>
                <p class="aroma-name">Woody</p>
            </div>
            <div class="aroma-card">
                <div class="aroma-icon"></div>
                <p class="aroma-name">Musky</p>
            </div>
        </div>
    </section>

    <footer class="main-footer">
        <p>Jl. Jend. Sudirman No.95, Kurahan, Bantul, Kec. Bantul, Kabupaten Bantul, Daerah Istimewa Yogyakarta 55711</p>
        <p>Kontak: <a href="tel:+6289529535222">+62 895-2953-5222</a></p>
        <p>Instagram: <a href="https://www.instagram.com/urbanperfumepoint.official/" target="_blank">@urbanperfumepoint.official</a></p>
    </footer>

<script>
        const categoryGrid = document.querySelector('.category-grid');
        const categoryBlocks = document.querySelectorAll('.category-block');

        // Fungsi untuk menghitung skala berdasarkan posisi elemen di tengah viewport
        function updateCategoryScales() {
            const gridRect = categoryGrid.getBoundingClientRect();
            const gridCenter = gridRect.left + gridRect.width / 2; // Titik tengah grid di viewport

            categoryBlocks.forEach(block => {
                const blockRect = block.getBoundingClientRect();
                const blockCenter = blockRect.left + blockRect.width / 2; // Titik tengah blok di viewport

                // Jarak blok dari tengah grid (bisa positif atau negatif)
                const distance = Math.abs(gridCenter - blockCenter);

                // Normalisasi jarak ke dalam rentang 0-1, di mana 0 adalah tengah sempurna
                // Sesuaikan 'maxDistance' ini agar efek skala sesuai keinginanmu
                const maxDistance = gridRect.width / 2; 
                const normalizedDistance = Math.min(1, distance / maxDistance);

                // Menghitung skala: skala terbesar di tengah (maxScale), mengecil ke samping (minScale)
                const maxScale = 1.1; // Ukuran maksimum di tengah (110% dari ukuran asli)
                const minScale = 0.8; // Ukuran minimum di samping (80% dari ukuran asli)
                const scale = maxScale - (normalizedDistance * (maxScale - minScale));

                block.style.transform = `scale(${scale})`;

                // Mengatur z-index agar item yang besar/di tengah berada di atas
                // Item yang lebih dekat ke tengah akan memiliki z-index lebih tinggi
                const zIndex = Math.round((1 - normalizedDistance) * 100); 
                block.style.zIndex = zIndex;
            });
        }

        // --- BAGIAN KODE UNTUK EFEK INFINITE SCROLL SEMU ---
        const scrollThreshold = 0.1; // Ketika scroll mencapai 10% dari awal/akhir grid, elemen akan dipindahkan
        let isScrolling = false; // Flag untuk mencegah loop saat memanipulasi scroll

        categoryGrid.addEventListener('scroll', () => {
            if (isScrolling) return; // Jika sedang dalam proses pemindahan, jangan jalankan lagi

            updateCategoryScales(); // Selalu update skala saat discroll

            const scrollLeft = categoryGrid.scrollLeft; // Posisi scroll saat ini
            const scrollWidth = categoryGrid.scrollWidth; // Total lebar konten yang bisa digulir
            const clientWidth = categoryGrid.clientWidth; // Lebar area yang terlihat (viewport)

            // Mendeteksi jika scroll mendekati awal (misal kurang dari 10% dari lebar terlihat dari kiri)
            if (scrollLeft < clientWidth * scrollThreshold) {
                isScrolling = true; // Set flag agar tidak berulang
                // Pindahkan 3 elemen terakhir ke awal. Sesuaikan angka 3 jika perlu.
                for (let i = 0; i < 3; i++) {
                    const lastChild = categoryGrid.lastElementChild;
                    if (lastChild) {
                        categoryGrid.prepend(lastChild); // Memindahkan elemen ke awal
                    }
                }
                // Sesuaikan posisi scroll agar terlihat mulus.
                // (categoryBlocks[0].offsetWidth || 110) * 3 adalah perkiraan jarak 3 blok.
                categoryGrid.scrollLeft = scrollLeft + (categoryBlocks[0].offsetWidth || 110) * 3;
                isScrolling = false; // Reset flag
            } 
            // Mendeteksi jika scroll mendekati akhir (misal 10% dari lebar terlihat dari kanan)
            else if (scrollLeft + clientWidth > scrollWidth - clientWidth * scrollThreshold) {
                isScrolling = true; // Set flag
                // Pindahkan 3 elemen pertama ke akhir. Sesuaikan angka 3 jika perlu.
                for (let i = 0; i < 3; i++) {
                    const firstChild = categoryGrid.firstElementChild;
                    if (firstChild) {
                        categoryGrid.appendChild(firstChild); // Memindahkan elemen ke akhir
                    }
                }
                // Sesuaikan posisi scroll agar terlihat mulus.
                categoryGrid.scrollLeft = scrollLeft - (categoryBlocks[0].offsetWidth || 110) * 3;
                isScrolling = false; // Reset flag
            }
        });

        // Panggil fungsi saat window di-resize (agar skala diperbarui jika ukuran layar berubah)
        window.addEventListener('resize', updateCategoryScales);

        // Panggil sekali saat halaman pertama kali dimuat untuk pengaturan awal
        updateCategoryScales();
    </script>
</body>
</html>
